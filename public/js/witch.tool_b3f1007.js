var tools=new function(){_self=this,_self.randomChar=function(e){for(var t="0123456789qwertyioplkjhgfsazxcvbnm",n="",a=0;e>a;a++)n+=t.charAt(Math.ceil(1e8*Math.random())%t.length);return n},_self.getCharLen=function(e){return e.replace(/[^\x00-\xff]/g,"rr").length},_self.imgCenter=function(e,t){var n=new Image;n.src=e.src;var a=n.height;if(a>0){var r=(t-a)/2;$(e).css("margin-top",r)}},_self.subStr=function(e,t,n){var a=!1;if(_self.getCharLen(e)>t){n=n?n:"",t-=_self.getCharLen(n);for(var r=escape(e),o=r.length,s="",c=0,i=0;o>i;i++){if(!(t>c)){a=!0;break}var l=r.charAt(i);"%"==l?(l=r.charAt(i+1),"u"==l?(s+=r.substring(i,i+6),c+=2,i+=5):(s+=r.substring(i,i+3),c++,i+=2)):(s+=l,c++)}}return a?unescape(s)+n:e},_self.xss=function(e,t){return e=e.replace(/<(script|link|style|iframe)(.|\n)*\/\1>\s*/gi,""),1==t&&(e=e.replace(/<\/?(?!br|\/)[^>]*>/g,"")),e=e.replace(/[ | ]*\n/g,"\n")},_self.getPara=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""},_self.subTime=function(e,t){var n,a=new Date(e);return n=void 0==t?new Date:new Date(t),(n.getTime()-a.getTime())/1e3},_self.formatTime=function(e){var t=new Date,n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return e}},csrfTimeout,pageCookie=new function(){var e=this;e.getCookie=function(e){for(var t,n="0",a=document.cookie,r=a.split(";"),o=0,s=r.length;s>o;o++)t=r[o].split("="),$.trim(t[0])==e&&(n=decodeURI(t[1]));return n},e.setCookie=function(e,t,n,a){var r=e+"="+t;r+=n?"; max-age="+24*d*60*60:"",r+=a?"; path="+a:"; path=/",document.cookie=r},e.csrf=function(){return}},ajaxGlobal=new function(){var e=this;e.start=function(){var e=new Date((new Date).getTime()+1e3);document.cookie="csrf=387205c31b2; expires="+e.toGMTString()},e.complete=function(){console.log("4")},e.send=function(){var e=new Date((new Date).getTime()-2e3);document.cookie="csrf=asd; expires="+e.toGMTString(),console.log("2")},e.success=function(){console.log("3")}};$(function(e){e.ajaxPrefilter(function(e){e.global=!0}),e(document).ajaxStart(ajaxGlobal.start()).ajaxComplete(ajaxGlobal.complete()).ajaxSend(ajaxGlobal.send()).ajaxSuccess(ajaxGlobal.success())});